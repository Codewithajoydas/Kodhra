<div class="card" id="card-<%= e._id%>" ondblclick="window.open('/card/<%= e._id %>', '_blank')" data-id="<%= e._id %>"
    tabindex="0" data-menus="delete, edit, move, share" data-userId="<%= userId %>" data-contextMenu="true"
    data-cardName="<%= e.title %>" data-mtype="card" data-cardauthor="<%= e.author._id %>"
    data-cardcontent="<%=e.title%>, <%= e.description%>, <%= e.content %>">
    <div class="header-info">
        <input type="checkbox" class="select-card" style="display: none" id="card_<%= e._id%>" />
        <label for="card_<%= e._id%>" style="display: flex; align-items: center; gap: 10px">
            <img src="<%= e.author.userImage %>" alt="" width="40" height="40" style="border-radius: 50%"
                class="profileImage"
                onerror="this.src='https://static.vecteezy.com/system/resources/previews/013/360/247/non_2x/default-avatar-photo-icon-social-media-profile-sign-symbol-vector.jpg'" />
            <div class="title">
                <p>
                    <%= e.title%>
                        <span
                            style="font-size: 13px !important; display: block; width: 300px;text-overflow: ellipsis;overflow: hidden;   white-space: nowrap;">
                            <%= e.description %>
                        </span>
                </p>
                <div>
                    <span class="author"><strong>
                            <a href="/profile/<%= e.author.userName%>" style="display: inline;">
                                <%= e.author.userName%>
                            </a>
                        </strong></span>,
                    <span class="lan">
                        <%= e.category%>
                    </span>,
                    <span class="time">
                        <%= new Date(e.metadata.createdAt).toLocaleString() %>
                    </span>
                </div>
            </div>
        </label>
        <div class="menu_top d-n" data-menu-id="<%= e._id %>" data-id="<%= e._id %>" data-menus="delete, edit, move, share"
            onclick="openContextMenu(event)" data-userId="<%= userId %>" data-cardauthor="<%= e.author._id %>"
            data-cardName="<%= e.title %>" data-mtype="card" data-contextMenu='true' tabindex="0">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="lucide lucide-ellipsis-vertical-icon lucide-ellipsis-vertical">
                <circle cx="12" cy="12" r="1" />
                <circle cx="12" cy="5" r="1" />
                <circle cx="12" cy="19" r="1" />
            </svg>
        </div>
    </div>

    <div class="code" title="<%= e.content%>">
        <code> <%= e.content %> </code>
    </div>

    <% if(e.tags.length> 0){ %>
        <div class="tags d-n">
            <% e.tags.forEach(tag=> { %>
                <a class="span" href="search?query=<%= tag %>">
                    <%= tag %>
                </a>
                <% }) %>
        </div>
        <% } %>

            <div class="options d-n">
                <div class="open" tabindex="0"
                    style="display: flex;justify-content: center;align-items: center;gap: 10px; cursor: pointer; "
                    data-code="<%= e.content%>">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-clipboard-copy-icon lucide-clipboard-copy">
                        <rect width="8" height="4" x="8" y="2" rx="1" ry="1" />
                        <path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2" />
                        <path d="M16 4h2a2 2 0 0 1 2 2v4" />
                        <path d="M21 14H11" />
                        <path d="m15 10-4 4 4 4" />
                    </svg>
                    <span>Copy Code</span>
                </div>
                <div class="sub_menu">
                    <div class="gist_upload" onclick="sharegist(event)">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-github-icon lucide-github">
                            <path
                                d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4" />
                            <path d="M9 18c-4.51 2-5-2-7-2" />
                        </svg>
                    </div>
                    <div class="pin" onclick="pinIt(this,'<%= e._id %>')" data-id="<%= e._id%>" tabindex="0">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            class="<%= e.isPinned ? 'active' : '' %>" fill="none" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pin-icon lucide-pin">
                            <path d="M12 17v5" />
                            <path
                                d="M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z" />
                        </svg>
                    </div>
                    <div class="fav" onclick="favIt(this, '<%= e._id %>')" data-id="<%= e._id%>" tabindex="0">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                            class="<%= e.isFavorite ? 'active' : '' %>" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-star-icon lucide-star">
                            <path
                                d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z" />
                        </svg>
                    </div>
                </div>
            </div>
</div>


