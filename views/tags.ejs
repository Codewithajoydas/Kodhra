<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tags | Code Snippet Manager</title>
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="/assets/logo.webp" type="image/png" />
  <link rel="stylesheet" href="/style/css/partials/Header.css">
  <link rel="stylesheet" href="/style/css/ad_search.css">
  <link rel="stylesheet" href="/style/css/Notification.css">
  <link rel="stylesheet" href="/style/css/index.css">
  <link rel="stylesheet" href="/style/css/chip.css">
  <link rel="stylesheet" href="/style/css/card.css">
  <link rel="stylesheet" href="/style/css/folder.css">
  <link rel="stylesheet" href="/style/css/loader.css">
  <link rel="stylesheet" href="/style/css/tags.css">
  <script src="\scripts\shortcut.js"></script>
  <script src="/socket.io/socket.io.js"></script>



</head>

<body data-theme="light">
  <%- include('partials/loader.ejs')%>
    </div>
    <div class="content">
      <%- include('partials/header')%>
        <div class="container">
          <%- include('partials/sidebar', {navigation: 'tags' })%>
            <main style="height: calc(100vh - 70px);">
              <% if(tags.length !==0 ){%>
                <div class="page_title" onclick="collapse(this)">
                  <span class="down"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                      fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                      class="lucide lucide-chevron-down-icon lucide-chevron-down">
                      <path d="m6 9 6 6 6-6" />
                    </svg></span>
                  Tags Section
                </div>
                <table style="margin: 10px;">
                  <thead>
                    <th style="text-align: left !important;">
                      <div class="nameOfTitle">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                          class="lucide lucide-tag-icon lucide-tag">
                          <path
                            d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z" />
                          <circle cx="7.5" cy="7.5" r=".5" fill="currentColor" />
                        </svg>Tags
                      </div>
                    </th>
                    <th>
                      <div class="nameOfTitle">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                          class="lucide lucide-mountain-icon lucide-mountain">
                          <path d="m8 3 4 8 5-5 5 15H2L8 3z" />
                        </svg>Used
                      </div>
                    </th>
                    <th>
                      <div class="nameOfTitle">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                          class="lucide lucide-clock-plus-icon lucide-clock-plus">
                          <path d="M12 6v6l3.644 1.822" />
                          <path d="M16 19h6" />
                          <path d="M19 16v6" />
                          <path d="M21.92 13.267a10 10 0 1 0-8.653 8.653" />
                        </svg> Created
                      </div>
                    </th>
                    <th>
                      <div class="nameOfTitle">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                          class="lucide lucide-user-icon lucide-user">
                          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" />
                          <circle cx="12" cy="7" r="4" />
                        </svg> Author
                      </div>
                    </th>
                  </thead>
                  <tbody>
                    <% tags.forEach(tag=> { %>
                      <tr>
                        <td>
                          <span class="tagsssss"><a href="search?query=<%= tag.tag %>">
                              <%= tag.tag %>
                            </a></span>
                        </td>
                        <td>
                          <%= tag.count %>
                        </td>
                        <td>
                          <%= new Date(tag.createdAt).toLocaleString() %>
                        </td>
                        <td>
                          <%= tag.authorName %>
                        </td>
                      </tr>
                      <% }) %>
                  </tbody>
                </table>
                <%}else{%>
                  <div class="nodata"
                    style="display: flex; justify-content: center;align-items: center; height: calc(100vh - 100px);">
                    <%- include("partials/no-data.ejs")%>
                  </div>
                  <%}%>

                    <%- include("partials/fab.ejs")%>
            </main>



            <div class="networkInfo" style="display: none;">
              <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="lucide lucide-info-icon lucide-info">
                  <circle cx="12" cy="12" r="10" />
                  <path d="M12 16v-4" />
                  <path d="M12 8h.01" />
                </svg></span>

              <span id="networkInfo"></span>
            </div>
        </div>
    </div>

    <script src="/scripts/home.js"></script>
    <script src="/scripts/ad_search.js"></script>
    <script src="/scripts/Fab.js"></script>
    <script src="/scripts/Notification.js"></script>
    <script src="/scripts/searchFunction.js"></script>
    <script src="/scripts/context_menu.js"></script>
    <script src="\scripts\isonline.js"></script>
    <script src="\scripts\header.js"></script>
    <script src="\scripts\collapse.js"></script>
    <script>
      const tags = document.querySelectorAll(".tagsssss");

      function stringToColor(str) {
        let hash = 0;
        for (let i = 0; i < str.length; i++) {
          hash = str.charCodeAt(i) + ((hash << 5) - hash);
        }

        let color = "#";
        for (let i = 0; i < 3; i++) {
          const value = (hash >> (i * 8)) & 255;
          color += value.toString(16).padStart(2, "0");
        }

        return color;
      }

      tags.forEach((tag) => {
        const text = tag.textContent.trim();
        tag.style.backgroundColor = stringToColor(text);
      });
    </script>



</body>

</html>