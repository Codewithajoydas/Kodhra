<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tags | Code Snippet Manager</title>
  <link rel="stylesheet" href="/style/css/partials/Header.css">
  <link rel="stylesheet" href="/style/css/ad_search.css">
  <link rel="stylesheet" href="/style/css/Notification.css">
  <link rel="stylesheet" href="/style/css/index.css">
  <link rel="stylesheet" href="/style/css/chip.css">
  <link rel="stylesheet" href="/style/css/card.css">
  <link rel="stylesheet" href="/style/css/folder.css">
  <link rel="stylesheet" href="/style/css/tags.css">
  <script src="\scripts\shortcut.js"></script>

  <script src="/socket.io/socket.io.js"></script>
  <!-- External CDN for image color -->
  <script src="https://unpkg.com/colorthief/dist/color-thief.umd.js"></script>
  <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.6.2/dist/dotlottie-wc.js" type="module"></script>
  <link rel="preload" href="/gEzG0w1WVY.lottie" as="fetch" crossorigin="anonymous" />
  <style>
    .loader {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      width: 100%;
      position: fixed;
      background: white;
      z-index: 100000;
      top: 0;
      font-size: clamp(30px, 3vw, 40px);

      font-weight: bolder;
    }

    .spain {
      width: 0.5em;
      height: 0.5em;
      background: #000000;
      border-radius: 50%;
      margin: 5px;
      animation: spin 0.6s ease-in-out infinite;
    }

    .spain:nth-child(1) {
      animation-delay: 0.1s;
    }

    .spain:nth-child(2) {
      animation-delay: 0.2s;
    }

    .spain:nth-child(3) {
      animation-delay: 0.3s;
    }

    @keyframes spin {
      0% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-10px);
      }

      100% {
        transform: translateY(0);
      }
    }
  </style>
  <script src="https://unpkg.com/@barba/core"></script>
  <script src="https://cdn.jsdelivr.net/npm/@barba/core"></script>
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>

</head>

<body data-theme="light">
  <div class="loader">
    <dotlottie-wc src="gEzG0w1WVY.lottie" style="width: 400px; height: 400px" speed="1" autoplay loop></dotlottie-wc>
  </div>
  </div>
  <div class="content">
    <%- include('partials/header')%>
      <div class="container">
        <%- include('partials/sidebar', {navigation: 'tags' })%>
          <main data-barba="container" data-barba-namespace="tags">
            <div class="page_title">
              All  <%- tags.length %> Tags
            </div>
            <br>
            <br>

            <div class="tags">
              <% tags.forEach((tag)=> { %>
                <div class="tag" onclick="window.location.href='search?query=<%= tag._id %>'">
                  <span><%- tag._id %></span>
                  <span><%- tag.count %></span>
                </div>
                <% }) %>
            </div>
          </main>
          
          <div class="move_folder">
            <div class="header_title" style="font-weight: bolder">
              <div class="span">Move " folderName"</div>
            </div>
            <hr />
            <div class="folders_name">
              <ul>
                <% if (folders.length===0) { %>
                  <span style="margin: 10px; color: red">No folder found</span>
                  <% } %>
                    <% folders.forEach((folder, i)=> { %>
                      <li>
                        <label>
                          <input type="radio" name="moveFolder" value="<%= folder._id %>" id="moveFolder<%= i %>" />
                          <div class="folder">
                            <div class="folder_icon">
                              <!-- SVG folder icon -->
                            </div>
                            <div class="folder_name" style="
                                          display: flex;
                                          justify-content: center;
                                          align-items: center;
                                          gap: 10px;
                                        ">
                              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="#EDCE44" stroke="none" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="lucide lucide-folder-icon lucide-folder">
                                <path
                                  d="m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2" />
                              </svg>
                              <span style="
                                            display: block;
                                            width: 120px;
                                            white-space: nowrap;
                                            overflow: hidden;
                                            text-overflow: ellipsis;
                                          " title="<%= folder.folderName %>">
                                <%= folder.folderName %>
                              </span>
                            </div>
                          </div>
                        </label>
                      </li>
                      <% }) %>
              </ul>
              <button class="move_btn" onclick="moveIt()" <%=folders.length===0 ? "disabled" : "" %> > Move </button>
            </div>
          </div>
          <div class="networkInfo" style="display: none;">
            <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="lucide lucide-info-icon lucide-info">
                <circle cx="12" cy="12" r="10" />
                <path d="M12 16v-4" />
                <path d="M12 8h.01" />
              </svg></span>

            <span id="networkInfo"></span>
          </div>
      </div>
  </div>

  <script>
    window.onload = () => {
      let loader = document.querySelector(".loader");
      loader.style.display = "none";
    };
  </script>

  <script src="/scripts/home.js"></script>
  <script src="/scripts/ad_search.js"></script>
  <script src="/scripts/Fab.js"></script>
  <script src="/scripts/Notification.js"></script>
  <script src="/scripts/searchFunction.js"></script>
  <script src="/scripts/context_menu.js"></script>
  <script src="\scripts\isonline.js"></script>
  <script src="\scripts\header.js"></script>
</body>

</html>