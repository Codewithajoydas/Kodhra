<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home | Code Snippet Manager</title>
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="/assets/logo.webp" type="image/png" />
  <link rel="stylesheet" href="/style/css/index.css" />
  <link rel="stylesheet" href="/style/css/partials/Header.css" />
  <link rel="stylesheet" href="/style/css/ad_search.css" />
  <link rel="stylesheet" href="/style/css/Notification.css" />
  <link rel="stylesheet" href="/style/css/index.css" />
  <link rel="stylesheet" href="/style/css/chip.css" />
  <link rel="stylesheet" href="/style/css/card.css" />
  <link rel="stylesheet" href="/style/css/folder.css" />
  <link rel="stylesheet" href="/style/css/loader.css" />
  <link rel="stylesheet" href="/style/css/toast.css" />
  <link rel="stylesheet" href="/style/css/settings.css" />
  <script src="\scripts\shortcut.js"></script>
  <script src="/socket.io/socket.io.js"></script>

  <style>
    .loader {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      width: 100%;
      position: fixed;
      background: white;
      z-index: 100000;
      top: 0;
      font-size: clamp(30px, 3vw, 40px);

      font-weight: bolder;
    }

    .spain {
      width: 0.5em;
      height: 0.5em;
      background: #000000;
      border-radius: 50%;
      margin: 5px;
      animation: spin 0.6s ease-in-out infinite;
    }

    .spain:nth-child(1) {
      animation-delay: 0.1s;
    }

    .spain:nth-child(2) {
      animation-delay: 0.2s;
    }

    .spain:nth-child(3) {
      animation-delay: 0.3s;
    }

    @keyframes spin {
      0% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-10px);
      }

      100% {
        transform: translateY(0);
      }
    }
  </style>
  <script src="https://unpkg.com/@barba/core"></script>
  <script src="https://cdn.jsdelivr.net/npm/@barba/core"></script>
  <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
</head>

<body data-theme="light">
  <%- include("partials/loader.ejs")%>
    <div class="content">
      <%- include("partials/header.ejs") %>
        <div class="container">
          <%- include("partials/sidebar.ejs", {navigation: 'settings' })%>
            <main style="height: calc(100vh - 70px)">
              <div class="setting_panal">
                <ul>
                  <li>
                    <a href="#general">General</a>
                  </li>
                  <li>
                    <a href="#appearance">
                      Appearance
                    </a>
                  </li>

                  <li>
                    <a href="#editor">
                      Editor
                    </a>
                  </li>

                  <li>
                    <a href="#synchronization">
                      Sync & Backup
                    </a>
                  </li>
                  <li>
                    <a href="#notification">
                      Notification
                    </a>
                  </li>
                  <li>
                    <a href="#privacysecurity">
                      Privacy & Security
                    </a>
                  </li>
                  <li>
                    <a href="#export">
                      Exporting / Importing
                    </a>
                  </li>
                  <li>
                    <a href="#extensions">
                      Extensions / Plugins
                    </a>
                  </li>
                  <li>
                    <a href="#about">
                      About / App Info
                    </a>
                  </li>
                </ul>
                <div class="tabs">

                  <!-- GENERAL -->
                  <section id="general" class="tab">

                    <label>
                      <div>
                        <span class="title">App Preferences</span>
                        <span class="description">Choose how the app behaves on startup and during general usage.</span>
                      </div>
                      <select name="uiMode">
                        <option>Normal Mode</option>
                        <option>Compact Mode</option>
                        <option>Minimal Mode</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Default Snippet Language</span>
                        <span class="description">This language is used when creating new snippets unless changed
                          manually.</span>
                      </div>
                      <input name="defaultLanguage" type="text" placeholder="e.g., javascript">
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Show Sidebar on Startup</span>
                        <span class="description">Choose whether the sidebar is visible when opening the app.</span>
                      </div>
                      <select name="showSidebar">
                        <option>Yes</option>
                        <option>No</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Auto-Save Snippets</span>
                        <span class="description">Automatically save changes made to snippets.</span>
                      </div>
                      <select name="autoSaveInterval">
                        <option>Off</option>
                        <option>Every 5 seconds</option>
                        <option>Every 10 seconds</option>
                        <option>Instant</option>
                      </select>
                    </label>

                  </section>

                  <!-- APPEARANCE -->
                  <section id="appearance" class="tab">

                    <label>
                      <div>
                        <span class="title">Theme</span>
                        <span class="description">Switch between light, dark, or system theme.</span>
                      </div>
                      <select name="theme">
                        <option>Dark</option>
                        <option>Light</option>
                        <option>System Default</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Accent Color</span>
                        <span class="description">Choose the primary accent color used across the UI.</span>
                      </div>
                      <input type="color" name="accentColor" style="padding: 0 !important;">
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Font Size</span>
                        <span class="description">Adjust the UI and editor text size.</span>
                      </div>
                      <input type="number" min="10" max="30" value="14" name="fontSize">
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">UI Density</span>
                        <span class="description">Control spacing of UI elements.</span>
                      </div>
                      <select name="uiDensity">
                        <option>Comfortable</option>
                        <option>Cozy</option>
                        <option>Compact</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Sidebar Layout</span>
                        <span class="description">Customize the appearance of the sidebar.</span>
                      </div>
                      <select name="sidebarLayout">
                        <option>Default</option>
                        <option>Minimal</option>
                        <option>Wide</option>
                      </select>
                    </label>

                  </section>

                  <!-- EDITOR -->
                  <section id="editor" class="tab">

                    <label>
                      <div>
                        <span class="title">Tab Size</span>
                        <span class="description">Number of spaces used for indentation.</span>
                      </div>
                      <input type="number" min="1" max="8" value="2" name="tabSize">
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Word Wrap</span>
                        <span class="description">Automatically wrap long lines of code.</span>
                      </div>
                      <select name="wordWrap">
                        <option>On</option>
                        <option>Off</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Line Numbers</span>
                        <span class="description">Show or hide line numbers in the editor.</span>
                      </div>
                      <select name="lineNumbers">
                        <option>On</option>
                        <option>Off</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Syntax Highlighting</span>
                        <span class="description">Choose a syntax style for code.</span>
                      </div>
                      <select name="syntaxStyle">
                        <option>Default</option>
                        <option>Monokai</option>
                        <option>Dracula</option>
                        <option>Solarized</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Auto Format on Save</span>
                        <span class="description">Automatically format code when saving a snippet.</span>
                      </div>
                      <select name="autoFormat">
                        <option>Yes</option>
                        <option>No</option>
                      </select>
                    </label>

                  </section>

                  <!-- SYNC -->
                  <section id="synchronization" class="tab">

                    <label>
                      <div>
                        <span class="title">Cloud Sync</span>
                        <span class="description">Enable syncing snippets across devices.</span>
                      </div>
                      <select name="cloudSync">
                        <option>On</option>
                        <option>Off</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Auto Sync Frequency</span>
                        <span class="description">How often your snippets are synced.</span>
                      </div>
                      <select name="syncFrequency">
                        <option>Manual</option>
                        <option>Every 10 minutes</option>
                        <option>Hourly</option>
                        <option>Daily</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Data Encryption</span>
                        <span class="description">Encrypt data before sending it to the cloud.</span>
                      </div>
                      <select name="dataEncryption">
                        <option>Enabled</option>
                        <option>Disabled</option>
                      </select>
                    </label>

                  </section>

                  <!-- NOTIFICATION -->
                  <section id="notification" class="tab">

                    <label>
                      <div>
                        <span class="title">Desktop Notifications</span>
                        <span class="description">Receive notifications about updates and changes.</span>
                      </div>
                      <select name="desktopNotifications">
                        <option>On</option>
                        <option>Off</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Snippet Change Alerts</span>
                        <span class="description">Notify when snippets are updated or overwritten.</span>
                      </div>
                      <select name="snippetAlerts">
                        <option>On</option>
                        <option>Off</option>
                      </select>
                    </label>

                  </section>

                  <!-- PRIVACY -->
                  <section id="privacysecurity" class="tab">

                    <label>
                      <div>
                        <span class="title">App Lock</span>
                        <span class="description">Secure your snippets with a PIN.</span>
                      </div>
                      <input type="number" name="appLockPin" placeholder="Enter PIN">
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Session Timeout</span>
                        <span class="description">Automatically lock the app after inactivity.</span>
                      </div>
                      <select name="sessionTimeout">
                        <option>Never</option>
                        <option>1 minute</option>
                        <option>5 minutes</option>
                        <option>30 minutes</option>
                      </select>
                    </label>

                  </section>

                  <!-- EXPORT -->
                  <section id="export" class="tab">

                    <label>
                      <div>
                        <span class="title">Export Format</span>
                        <span class="description">Choose format for exporting snippets.</span>
                      </div>
                      <select name="exportFormat">
                        <option>JSON</option>
                        <option>Markdown</option>
                        <option>Plain Text</option>
                      </select>
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Auto Export Schedule</span>
                        <span class="description">Automatically export your snippet collection.</span>
                      </div>
                      <select name="autoExportSchedule">
                        <option>Disabled</option>
                        <option>Daily</option>
                        <option>Weekly</option>
                        <option>Monthly</option>
                      </select>
                    </label>

                  </section>

                  <!-- EXTENSIONS -->
                  <section id="extensions" class="tab">
                    <label>
                      <div>
                        <span class="title">Extensions</span>
                        <span class="description">Manage installed extensions.</span>
                      </div>
                      <button>Open Extensions</button>
                    </label>
                  </section>

                  <!-- ABOUT -->
                  <section id="about" class="tab">
                    <label>
                      <div>
                        <span class="title">Version Info</span>
                        <span class="description">View your current app version and build number.</span>
                      </div>
                      <input type="text" readonly value="1.0.0" name="appVersion">
                    </label>
                    <br>

                    <label>
                      <div>
                        <span class="title">Check for Updates</span>
                        <span class="description">Check if a new version of the app is available.</span>
                      </div>
                      <button>Check Now</button>
                    </label>
                  </section>

                </div>


              </div>
            </main>
            <div id="context_menu" style="
                  position: absolute;
                  top: 0;
                  left: 0;
                  display: none;
                  z-index: 1000000;
                  width: 200px;
                ">
              <ul id="context_menu_list"></ul>
            </div>
            <div class="networkInfo" style="display: none">
              <span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="lucide lucide-info-icon lucide-info">
                  <circle cx="12" cy="12" r="10" />
                  <path d="M12 16v-4" />
                  <path d="M12 8h.01" />
                </svg></span>

              <span id="networkInfo"></span>
            </div>
        </div>
    </div>


    <script src="/scripts/ad_search.js"></script>
    <script src="/scripts/Fab.js"></script>
    <script src="/scripts/Notification.js"></script>
    <script src="/scripts/searchFunction.js"></script>
    <script src="/scripts/context_menu.js"></script>
    <script src="\scripts\isonline.js"></script>
    <script src="/scripts/header.js"></script>

    <script>
      const SETTINGS_KEY = "snippetManagerSettings";

      function collectSettings() {
        const settings = {};
        const elements = document.querySelectorAll(".tabs input, .tabs select, .tabs textarea");

        elements.forEach(el => {
          const key = el.name;
          if (!key) return;
          settings[key] = el.type === "checkbox" ? el.checked : el.value;
        });

        return settings;
      }

      function saveSettings() {
        const settings = collectSettings();
        localStorage.setItem(SETTINGS_KEY, JSON.stringify(settings));
      }

      function loadSettings() {
        const saved = localStorage.getItem(SETTINGS_KEY);
        if (!saved) return;

        const settings = JSON.parse(saved);

        Object.keys(settings).forEach(key => {
          const el = document.querySelector(`[name="${key}"]`);
          if (!el) return;

          if (el.type === "checkbox") {
            el.checked = settings[key];
          } else {
            el.value = settings[key];
          }
        });
      }

      document.addEventListener("change", (e) => {
        if (e.target.matches(".tabs input, .tabs select, .tabs textarea")) {
          saveSettings();
        }
      });
      loadSettings();
    </script>


</body>

</html>